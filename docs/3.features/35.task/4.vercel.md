---
icon: i-simple-icons-vercel
---

# Vercel

> Generate `vercel.json` cron configuration and handle scheduled invocations via HTTP.

## Usage

```ts
import { createTaskRunner, defineTask, toVercelCrons } from 'unagent/task'

const cleanup = defineTask({
  meta: { description: 'Clean up stale records' },
  async run() {
    return { result: { ok: true } }
  },
})

const runner = createTaskRunner({
  tasks: { 'db:cleanup': cleanup },
  scheduledTasks: { '0 */6 * * *': 'db:cleanup' },
})

toVercelCrons(runner.scheduledTasks, '/api/cron')
// â†’ [{ path: '/api/cron/db:cleanup', schedule: '0 */6 * * *' }]
```

## HTTP Handler

Create an API route that Vercel invokes on schedule:

```ts [api/cron/[name].ts]
export default (req) => {
  const name = req.params.name
  return runner.runTask(name)
}
```

## `vercel.json`

```json [vercel.json]
{
  "crons": [
    { "path": "/api/cron/db:cleanup", "schedule": "0 */6 * * *" }
  ]
}
```

## Related
- [Task](/features/task)
- [All Features](/features)
- [Core](/core)
