---
icon: i-simple-icons-cloudflare
---

# Cloudflare

> Browser automation in Workers using `@cloudflare/playwright` bindings.

## Setup

```bash
npm i @cloudflare/playwright
```

`wrangler.jsonc`:

```jsonc
{
  "compatibility_flags": ["nodejs_compat"],
  "browser": {
    "binding": "MYBROWSER"
  }
}
```

## Usage

```ts
import { createBrowser } from 'unagent/browser'

export default {
  async fetch(_request: Request, env: { MYBROWSER: unknown }) {
    const browser = await createBrowser({
      provider: {
        name: 'cloudflare',
        binding: env.MYBROWSER,
      },
    })

    const session = await browser.newSession()
    const page = await session.newPage({ url: 'https://example.com' })
    const screenshot = await page.screenshot()

    await session.close()
    await browser.close()

    return new Response(screenshot.bytes, {
      headers: { 'content-type': screenshot.mimeType },
    })
  },
}
```

## Related

- [Browser](/features/browser)
- [All Features](/features)
- [Core](/core)
