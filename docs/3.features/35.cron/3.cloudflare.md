---
icon: i-simple-icons-cloudflare
---

# Cloudflare

> Manage Cloudflare Workers cron triggers via the REST API.

## Setup

```ts
import { createCron } from 'unagent/cron'

const cron = await createCron({
  provider: {
    name: 'cloudflare',
    accountId: process.env.CF_ACCOUNT_ID!,
    scriptName: process.env.CF_SCRIPT_NAME!,
    apiToken: process.env.CF_API_TOKEN!,
  },
})
```

## Create Schedule

```ts
const schedule = await cron.create({
  cron: '*/5 * * * *',
  destination: 'my-worker',
})
```

::callout{type="warning"}
Cloudflare uses a set-all approach: creating fetches existing schedules, appends the new one, and PUTs the full list. Same for delete.
::

## List Schedules

```ts
const schedules = await cron.list()
```

## Delete Schedule

```ts
await cron.delete('*/5 * * * *') // ID is the cron expression
```

## Build Helper

Generate cron expressions for `wrangler.toml`:

```ts
import { defineCronSchedules, toCloudflareCrons } from 'unagent/cron'

const schedules = defineCronSchedules([
  { cron: '*/5 * * * *', path: '/api/cleanup' },
  { cron: '0 0 * * *', path: '/api/daily-report' },
])

const crons = toCloudflareCrons(schedules)
// ['*/5 * * * *', '0 0 * * *']
```

## Limitations

- No pause/resume support
- Cron expression is used as ID (no individual schedule IDs)
- Create/delete operate on the full schedule set

## Capabilities

```ts
cron.supports
// { create: true, list: true, get: true, delete: true, pause: false, resume: false }
```
