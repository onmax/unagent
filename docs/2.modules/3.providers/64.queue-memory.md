---
icon: i-lucide-database
---
# queue-memory

> In-memory queue provider for local dev and testing via the `queue.memory` namespace.

## Usage

```ts
import { createQueue } from 'unagent/queue'

const queue = await createQueue({
  provider: { name: 'memory' },
})

await queue.send({ hello: 'world' })
await queue.sendBatch?.([{ body: { ok: true } }])

const drained = await queue.memory.drain(async (payload, meta) => {
  console.log('got', meta.messageId, payload)
})
console.log('drained', drained)
```

## API

```ts
const mem = queue.memory
mem.size()
mem.peek(10)
await mem.drain(async (payload, meta) => {})
```

## Related
- [queue](/modules/runtime/queue)
