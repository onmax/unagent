---
icon: i-simple-icons-upstash
---
# QStash

> Upstash QStash provider for `unagent/queue`.

## Usage

```ts
import { createQueue } from 'unagent/queue'

const queue = await createQueue({
  provider: {
    name: 'qstash',
    token: process.env.QSTASH_TOKEN!,
    destination: 'https://example.com/api/webhook',
  },
})

await queue.send({ hello: 'world' }, { delaySeconds: 10, idempotencyKey: 'dedupe-key' })
```

## Signature Verification

```ts
import { verifyQStashSignature } from 'unagent/queue'

const ok = await verifyQStashSignature(request, {
  currentSigningKey: process.env.QSTASH_CURRENT_SIGNING_KEY!,
  nextSigningKey: process.env.QSTASH_NEXT_SIGNING_KEY,
})
```

## API

```ts
const qstash = queue.qstash
qstash.destination
qstash.apiUrl
```

## Related
- [Queue](/features/queue)
- [All Features](/features)
- [All Modules](/modules)
