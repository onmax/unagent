---
icon: i-simple-icons-cloudflare
---
# Cloudflare

> Cloudflare Vectorize provider for `unagent/vector`.

## Usage

### Setup
```ts
import { createVector } from 'unagent/vector'
import { openai } from 'unagent/vector/embeddings/openai'

const vector = await createVector({
  provider: {
    name: 'cloudflare',
    binding: env.VECTORIZE,
    embeddings: openai({ model: 'text-embedding-3-small' }),
  },
})
```

## API

### Namespace
```ts
const binding = vector.cloudflare.binding
```

### Limitations
- `clear()` is not supported by Vectorize (use Wrangler CLI).

### Playground + Vectorize
1. Create the Vectorize index with matching dimensions and metric:

```bash
wrangler vectorize create unagent-playground-vector --dimensions=32 --metric=cosine
```

2. Ensure `playground/wrangler.json` includes:

```json
{
  "vectorize": [{ "binding": "VECTORIZE", "index_name": "unagent-playground-vector" }]
}
```

3. Deploy the worker and run the optional smoke test:

```bash
VECTORIZE_TEST_URL=https://your-worker.example.workers.dev pnpm playground:vectorize:smoke
```

Or run the full e2e harness (will include Cloudflare if `VECTORIZE_TEST_URL` is set):

```bash
VECTORIZE_TEST_URL=https://your-worker.example.workers.dev pnpm playground:vector:e2e
```

## Examples

See the usage section for common patterns.

## Related
- [Vector](/features/vector)
- [All Features](/features)
- [All Modules](/modules)
